/* Variables y Estilos Generales */
        :root {
            --blanco: aliceblue;
            --ancho-carta: 130px; /* Tamaño AUMENTADO */
            --alto-carta: 220px; /* Tamaño AUMENTADO */
            --espacio-carta: 10px; 
            --superposicion: -40px; /* Valor negativo para solapar horizontalmente */
            --color-tarjeta: rgba(255, 255, 255, 0.1);
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background-image: url(img/Fondo2.jpg);
            background-size: cover;
            background-attachment: fixed;
            font-family: sans-serif;
            color: var(--blanco);
        }

        /* --- Estilos del Menú de Navegación (NAV) --- */
        nav {
            width: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px; 
        }

        ul.menu {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 0;
        }

        ul.menu li a {
            font-weight: 400;
            font-size: 20px;
            text-transform: uppercase;
            color: var(--blanco);
            text-decoration: none;
            transition: color 0.3s;
            padding: 1rem;
            border-radius: 10px;
            display: block;
        }

        ul.menu li a:hover {
            background-color: rgba(133, 91, 250, 0.4);
        }

        /* --- Contenedor de Cartas --- */
        #cards-grid {
            display: flex;
            flex-wrap: wrap; 
            justify-content: center;
            /* Calculamos el ancho para 11 cartas más su superposición */
            width: calc(11 * var(--ancho-carta) + 10 * var(--superposicion) + 50px); 
            margin: 20px auto;
            perspective: 1000px;
            transition: opacity 0.5s;
        }

        /* Contenedor de la Carta Individual */
        .card-container {
            width: var(--ancho-carta);
            height: var(--alto-carta);
            position: relative;
            cursor: pointer;
            /* Aplicamos la superposición y el margen vertical */
            margin: var(--espacio-carta) 0 0 var(--superposicion); 
            transition: opacity 0.5s ease-out, transform 1s ease-out; 
            transform-style: preserve-3d;
        }
        
        /* La primera carta en cada fila no debe solaparse con nada a su izquierda */
        #cards-grid :nth-child(1),
        #cards-grid :nth-child(12) { /* 12 es la primera carta de la segunda fila (11 + 1) */
            margin-left: 0;
        }


        /* Animación y Ocultamiento de Cartas no seleccionadas */
        .card-container.hidden {
            opacity: 0;
            transform: translateY(100vh) scale(0.5);
            pointer-events: none;
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s; /* Animación de giro */
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.6);
            box-sizing: border-box;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- DORSO (FRONT) --- */
        .front {
            background-image: url('Tarotimg/Dorso.jpg'); 
            background-size: cover; 
            background-position: center;
            transform: rotateY(0deg);
        }

        /* --- CARA (BACK) --- */
        .back {
            background-color: #554477;
            background-size: contain; 
            background-position: center;
            transform: rotateY(180deg);
            padding: 20px;
            font-size: 14px;
        }

        .card-container.flipped .card {
            transform: rotateY(180deg);
        }

        /* Efectos Hover (Mazo) */
        .card-container {
            filter: brightness(0.6);
            transition: filter 0.3s, transform 0.3s, opacity 0.5s ease-out, transform 1s ease-out;
        }

        .card-container:hover {
            filter: brightness(1);
            z-index: 10;
            transform: translateY(-15px); /* Se levanta un poco más */
        }

        body:hover .card-container:not(:hover) {
            filter: brightness(0.2);
        }
        
        /* Cuando la carta seleccionada es la única visible */
        body.card-selected .card-container {
             /* Desactivamos los efectos de hover y filtro para todas las cartas */
            filter: none !important;
            transform: none !important;
        }

        /* --- ESTADO CARTA SELECCIONADA Y MOVIMIENTO LATERAL --- */
        body.card-selected {
            align-items: flex-start;
            flex-direction: row; 
            justify-content: flex-start;
            padding: 50px;
            gap: 50px;
        }
        
        /* Oculta el grid principal */
        #cards-grid.hidden {
            opacity: 0;
            pointer-events: none;
        }


        /* Estilo para la CARTA SELECCIONADA (una vez que las otras se han ido) */
        .card-container.selected-solo {
            position: relative;
            z-index: 20;
            /* Mueve a la izquierda y escala */
            transform: scale(1.3) translateX(-20%); 
            transition: transform 1s ease-in-out; 
            margin: 0; 
        }
        
        /* Contenedor de Texto de Resultado (Tarjeta) */
        #result-content {
            opacity: 0;
            transform: translateX(50px);
            transition: opacity 1s ease-in, transform 1s ease-in;
            max-width: 500px;
            padding: 30px;
            border-radius: 15px;
            background-color: var(--color-tarjeta); /* Fondo de tarjeta semi-transparente */
            backdrop-filter: blur(5px); /* Efecto cristal (opcional) */
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.card-selected #result-content {
            opacity: 1;
            transform: translateX(0);
        }

        #result-content h2 {
            font-size: 2.5rem;
            color: #9951d4;
            margin-bottom: 15px;
            border-bottom: 2px solid #9951d4;
            padding-bottom: 10px;
        }

        #result-content p {
            font-size: 1.2rem;
            line-height: 1.5;
        }

        /* Botón de Reinicio */
        #reset-button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            display: none;
            background-color: #9951d4;
            color: white;
            border: none;
            border-radius: 5px;
            z-index: 30;
        }

        body.card-selected #reset-button {
            display: block; 
            position: absolute; 
            bottom: 30px;
            right: 50px;
        }

        #reset-button:hover {
            background-color: #7a3bb0;
        }