/* Variables y Estilos Generales */
        :root {
            --blanco: aliceblue;
            --ancho-carta: 130px; /* Tamaño AUMENTADO */
            --alto-carta: 220px; /* Tamaño AUMENTADO */
            --espacio-carta: 10px; 
            --superposicion: -40px; /* Valor negativo para solapar horizontalmente */
            --color-tarjeta: rgba(255, 255, 255, 0.1);
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background-image: url(img/Fondo2.jpg);
            background-size: cover;
            background-attachment: fixed;
            font-family: sans-serif;
            color: var(--blanco);
        }

        /* --- Estilos del Menú de Navegación (NAV) --- */
        nav {
            width: 100%;
            margin: 50px 0 50px 0; 
        }

        ul.menu {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 0;
        }

        ul.menu li a {
            font-weight: 400;
            font-size: 20px;
            text-transform: uppercase;
            color: var(--blanco);
            text-decoration: none;
            transition: color 0.3s;
            padding: 1rem;
            border-radius: 10px;
            display: block;
        }

        ul.menu li a:hover {
            background-color: rgba(133, 91, 250, 0.4);
        }

        /* --- Contenedor de Cartas --- */
      #cards-grid {
    display: flex;
    flex-wrap: wrap; 
    justify-content: center;
    /*
     * CÁLCULO CLAVE: Ancho para 11 cartas más su superposición.
     * 11 * ancho de carta + 10 * superposición (hay 10 solapamientos)
     * No necesitamos el + 50px de antes, ajustamos el ancho exacto.
     */
    width: calc(11 * var(--ancho-carta) + 10 * var(--superposicion)); 
    margin: 20px auto;
    perspective: 1000px;
    transition: opacity 0.5s;
}

  .card-container {
    width: var(--ancho-carta);
    height: var(--alto-carta);
    position: relative;
    cursor: pointer;
    /*
     * La superposición horizontal se mantiene: var(--superposicion)
     * Para que se acomoden en 2 filas, solo aplicamos el margen/solapamiento horizontal.
     */
    margin: var(--espacio-carta) 0 0 var(--superposicion); 
    transition: opacity 0.5s ease-out, transform 1s ease-out; 
    transform-style: preserve-3d;
}
        /* La primera carta en cada fila no debe solaparse con nada a su izquierda */
#cards-grid :nth-child(1),
#cards-grid :nth-child(12) { /* 12 es la primera carta de la segunda fila (11 + 1) */
    margin-left: 0; /* Se mantiene igual, es correcto */
}

#content-container {
    display: flex;
    flex-direction: column; /* Por defecto, el botón y las cartas van en columna */
    align-items: center;
    width: 100%;
}

/* ESTADO CARTA SELECCIONADA Y MOVIMIENTO LATERAL */
b/* --- ESTADO CARTA SELECCIONADA Y MOVIMIENTO LATERAL --- */
body.card-selected #content-container {
    align-items: flex-start;
    flex-direction: row; 
    justify-content: flex-start;
    padding: 0 50px; 
    gap: 50px;
    width: auto;
    /* Ajuste: Aseguramos que el contenido empiece debajo del NAV fijo */
    margin-top: 50px; 
}

/* Oculta el grid principal (contenedor de las 22 cartas) */
#cards-grid.hidden {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s; /* Agregamos la transición aquí */
}

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s; /* Animación de giro */
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.6);
            box-sizing: border-box;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- DORSO (FRONT) --- */
        .front {
            background-image: url('Tarotimg/Dorso.jpg'); 
            background-size: cover; 
            background-position: center;
            transform: rotateY(0deg);
        }

        /* --- CARA (BACK) --- */
        .back {
            background-color: #554477;
            background-size: contain; 
            background-position: center;
            transform: rotateY(180deg);
            padding: 20px;
            font-size: 14px;
        }

        .card-container.flipped .card {
            transform: rotateY(180deg);
        }

        /* Efectos Hover (Mazo) */
        .card-container {
            filter: brightness(0.6);
            transition: filter 0.3s, transform 0.3s, opacity 0.5s ease-out, transform 1s ease-out;
        }

        .card-container:hover {
            filter: brightness(1);
            z-index: 10;
            transform: translateY(-15px); /* Se levanta un poco más */
        }

        body:hover .card-container:not(:hover) {
            filter: brightness(0.2);
        }
        
        /* Cuando la carta seleccionada es la única visible */
        body.card-selected .card-container {
             /* Desactivamos los efectos de hover y filtro para todas las cartas */
            filter: none !important;
            transform: none !important;
        }

        /* --- ESTADO CARTA SELECCIONADA Y MOVIMIENTO LATERAL --- */
        body.card-selected {
            align-items: flex-start;
            flex-direction: row; 
            justify-content: flex-start;
            padding: 50px;
            gap: 50px;
        }
        
        /* Oculta el grid principal */
        #cards-grid.hidden {
            opacity: 0;
            pointer-events: none;
        }


        /* Estilo para la CARTA SELECCIONADA (una vez que las otras se han ido) */
       /* Estilo para la CARTA SELECCIONADA (una vez que las otras se han ido) */
.card-container.selected-solo {
    /* Quitamos el transform de escala y traslación para simplificar la posición */
    transform: none; 
    transition: transform 1s ease-in-out; 
    
    /* Le damos un tamaño mayor al ser la única */
    width: 200px; /* Tamaño de carta más grande */
    height: 330px; 
    
    /* Reseteamos los márgenes de superposición */
    margin: 0; 
    
    /* Aseguramos que mantenga su z-index */
    z-index: 20; 
}

/* Opcional: Centrar la carta y el consejo en el viewport si lo prefieres */
/*
body.card-selected #content-container {
    justify-content: center;
    align-items: center;
    height: 80vh; 
}
*/
        /* Contenedor de Texto de Resultado (Tarjeta) */
      /* Contenedor de Texto de Resultado (Tarjeta/Tag) */
#result-content {
    opacity: 0;
    transform: translateX(50px);
    transition: opacity 1s ease-in, transform 1s ease-in;
    
    /* Estilos para que luzca como en tu imagen */
    max-width: 500px;
    padding: 30px;
    border-radius: 15px;
    background-color: rgba(30, 0, 50, 0.8); /* Fondo más oscuro y sólido que tu original */
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
    border: 1px solid #9951d4; /* Borde sutil del color morado */
}

/* Hacemos visible el resultado al seleccionar la carta */
body.card-selected #result-content {
    opacity: 1;
    transform: translateX(0);
}

#result-content h2 {
    font-size: 2.5rem;
    color: var(--blanco); /* Hacemos el título blanco */
    margin-bottom: 15px;
    border-bottom: 2px solid #9951d4; /* Mantemos la línea morada */
    padding-bottom: 10px;
}
        #result-content p {
            font-size: 1.2rem;
            line-height: 1.5;
        }

        /* Botón de Reinicio */
        #reset-button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            display: none;
            background-color: #9951d4;
            color: white;
            border: none;
            border-radius: 5px;
            z-index: 30;
        }

        body.card-selected #reset-button {
            display: block; 
            position: absolute; 
            bottom: 30px;
            right: 50px;
        }

        #reset-button:hover {
            background-color: #7a3bb0;
        }